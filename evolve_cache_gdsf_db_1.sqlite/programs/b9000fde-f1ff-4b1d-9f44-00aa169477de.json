{"id": "b9000fde-f1ff-4b1d-9f44-00aa169477de", "code": "#include <cstdint>\n#include <unordered_map>\n#include <set>\n\ntypedef uint64_t obj_id_t;\n\n// Slightly favor LRU over LFU for improved recency on ties\nclass CacheManager {\nprivate:\n    struct Node {\n        obj_id_t id;\n        uint64_t freq;\n        uint64_t time;\n        Node(obj_id_t i, uint64_t f, uint64_t t) : id(i), freq(f), time(t) {}\n        bool operator<(const Node& o) const {\n            // Set orders ascending: LFU, then LRU (most recently used LAST among equal freq)\n            if (freq != o.freq) return freq < o.freq;\n            if (time != o.time) return time > o.time; // now most recently used will be last evicted\n            return id < o.id;\n        }\n    };\n    std::unordered_map<obj_id_t, std::set<Node>::iterator> lookup;\n    std::set<Node> freq_set;\n    uint64_t tick = 0;\n\npublic:\n    bool find(obj_id_t obj_id) {\n        auto it = lookup.find(obj_id);\n        if (it == lookup.end()) return false;\n        Node old_node = *(it->second);\n        freq_set.erase(it->second);\n        Node upd(old_node.id, old_node.freq+1, ++tick);\n        auto iter = freq_set.insert(upd).first;\n        lookup[obj_id] = iter;\n        return true;\n    }\n\n    void insert(obj_id_t obj_id, uint64_t obj_size) {\n        (void)obj_size;\n        if (lookup.count(obj_id)) {\n            find(obj_id);\n            return;\n        }\n        Node n(obj_id, 1, ++tick);\n        auto iter = freq_set.insert(n).first;\n        lookup[obj_id] = iter;\n    }\n\n    obj_id_t evict() {\n        if (freq_set.empty()) return 0;\n        // Use rbegin to evict the least frequent, most recently used among ties\n        auto victim = --freq_set.end();\n        obj_id_t vid = victim->id;\n        freq_set.erase(victim);\n        lookup.erase(vid);\n        return vid;\n    }\n};", "language": "python", "parent_id": "f6ea7e4a-a183-4314-83de-f40bd1a024e7", "generation": 2, "timestamp": 1763752577.8007932, "iteration_found": 9, "metrics": {"combined_score": -Infinity}, "complexity": 0.0, "diversity": 0.0, "metadata": {"changes": "Change 1: Replace 58 lines with 58 lines", "parent_metrics": {"combined_score": -Infinity}, "island": 0}, "prompts": null, "artifacts_json": null, "artifact_dir": null, "embedding": null}