{"id": "43288c9c-0639-4ecb-b664-87f673793cd2", "code": "#include <cstdint>\n#include <unordered_map>\n#include <set>\n\ntypedef uint64_t obj_id_t;\n\n// LFU+Size-aware: break ties with object size (prefer to evict larger objects if frequency is equal)\nclass CacheManager {\nprivate:\n    struct Node {\n        uint64_t freq;\n        uint64_t timestamp;\n        uint64_t obj_size;\n        obj_id_t obj_id;\n        bool operator<(const Node& rhs) const {\n            if (freq != rhs.freq) return freq < rhs.freq;\n            if (obj_size != rhs.obj_size) return obj_size > rhs.obj_size; // Evict larger object first on freq tie\n            if (timestamp != rhs.timestamp) return timestamp < rhs.timestamp;\n            return obj_id < rhs.obj_id;\n        }\n    };\n\n    std::unordered_map<obj_id_t, std::set<Node>::iterator> obj2iter;\n    std::unordered_map<obj_id_t, uint64_t> obj2size;\n    std::set<Node> nodes;\n    uint64_t timestamp = 0;\n\npublic:\n    bool find(obj_id_t obj_id) {\n        auto it = obj2iter.find(obj_id);\n        if (it == obj2iter.end()) return false;\n        Node node = *(it->second);\n        nodes.erase(it->second);\n        node.freq += 1;\n        node.timestamp = ++timestamp;\n        auto new_it = nodes.insert(node).first;\n        obj2iter[obj_id] = new_it;\n        obj2size[obj_id] = node.obj_size;\n        return true;\n    }\n\n    void insert(obj_id_t obj_id, uint64_t obj_size) {\n        auto it = obj2iter.find(obj_id);\n        if (it != obj2iter.end()) {\n            find(obj_id);\n            return;\n        }\n        Node node{1, ++timestamp, obj_size, obj_id};\n        auto set_it = nodes.insert(node).first;\n        obj2iter[obj_id] = set_it;\n        obj2size[obj_id] = obj_size;\n    }\n\n    obj_id_t evict() {\n        if (nodes.empty()) return 0;\n        auto it = nodes.begin();\n        obj_id_t victim = it->obj_id;\n        nodes.erase(it);\n        obj2iter.erase(victim);\n        obj2size.erase(victim);\n        return victim;\n    }\n};", "language": "python", "parent_id": "6879d981-83e7-4bcf-b58d-0ab35ff75a3a", "generation": 1, "timestamp": 1763753631.3069613, "iteration_found": 63, "metrics": {"combined_score": 0.8464, "miss_ratio_4": 0.4177, "miss_ratio_45": 0.2894, "miss_ratio_450": 0.1536}, "complexity": 0.0, "diversity": 0.0, "metadata": {"changes": "Change 1: Replace 37 lines with 63 lines", "parent_metrics": {"combined_score": 0.8077, "miss_ratio_4": 0.4257, "miss_ratio_45": 0.2907, "miss_ratio_450": 0.1923}, "island": 0}, "prompts": null, "artifacts_json": null, "artifact_dir": null, "embedding": null}