{"id": "7de61035-950a-44c5-8d61-747e49aa1e13", "code": "#include <cstdint>\n#include <unordered_map>\n#include <set>\n\ntypedef uint64_t obj_id_t;\n\n// Augmented LFU: frequency, recency, and size-aware (like GDSF without priority L)\n// Eviction favors objects with lowest freq/size, break ties by recency\nclass CacheManager {\nprivate:\n    struct Node {\n        double score;\n        uint64_t freq;\n        uint64_t timestamp;\n        obj_id_t obj_id;\n        Node(uint64_t f, uint64_t ts, obj_id_t oid, uint64_t sz)\n            : freq(f), timestamp(ts), obj_id(oid) {\n            // Avoid division by zero\n            score = sz ? static_cast<double>(f) / sz : static_cast<double>(f);\n        }\n        bool operator<(const Node &other) const {\n            if (score != other.score)\n                return score < other.score;\n            if (timestamp != other.timestamp)\n                return timestamp < other.timestamp;\n            return obj_id < other.obj_id;\n        }\n    };\n    struct Entry {\n        uint64_t size;\n        uint64_t freq;\n        uint64_t timestamp;\n        std::set<Node>::iterator set_it;\n    };\n    std::unordered_map<obj_id_t, Entry> table;\n    std::set<Node> freqset;\n    uint64_t global_clock = 0;\n\npublic:\n    bool find(obj_id_t obj_id) {\n        auto it = table.find(obj_id);\n        if (it == table.end())\n            return false;\n        // Remove old node from set\n        freqset.erase(it->second.set_it);\n        // Update entry: increment freq, timestamp\n        it->second.freq += 1;\n        it->second.timestamp = ++global_clock;\n        Node new_node(it->second.freq, it->second.timestamp, obj_id, it->second.size);\n        auto inserted = freqset.insert(new_node);\n        it->second.set_it = inserted.first;\n        return true;\n    }\n\n    void insert(obj_id_t obj_id, uint64_t obj_size) {\n        auto it = table.find(obj_id);\n        if (it != table.end()) {\n            find(obj_id);\n            return;\n        }\n        uint64_t freq = 1;\n        uint64_t ts = ++global_clock;\n        Node node(freq, ts, obj_id, obj_size);\n        auto set_it = freqset.insert(node).first;\n        table[obj_id] = Entry{obj_size, freq, ts, set_it};\n    }\n\n    obj_id_t evict() {\n        if (freqset.empty())\n            return 0;\n        auto node_it = freqset.begin();\n        obj_id_t victim = node_it->obj_id;\n        freqset.erase(node_it);\n        table.erase(victim);\n        return victim;\n    }\n};", "language": "python", "parent_id": "b09d330a-e9ca-470e-99e1-4c00224b1176", "generation": 2, "timestamp": 1763752762.2749937, "iteration_found": 12, "metrics": {"combined_score": -Infinity}, "complexity": 0.0, "diversity": 0.0, "metadata": {"changes": "Change 1: Replace 63 lines with 77 lines", "parent_metrics": {"combined_score": -Infinity}, "island": 0}, "prompts": null, "artifacts_json": null, "artifact_dir": null, "embedding": null}